<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="./cubex-shell-console.html">
<link rel="import" href="./cubex-shell-signup.html">
<link rel="import" href="../cubex-project/cubex-project.html">

<dom-module id="cubex-shell">
  <template>
    <cubex-project project-id="{{_project}}" projects="{{_projects}}"></cubex-project>
    <template is="dom-if" if="[[_showConsole]]">
      <cubex-shell-console></cubex-shell-console>
    </template>
    <template is="dom-if" if="[[_showSignup]]">
      <cubex-shell-signup></cubex-shell-signup>
    </template>
  </template>

  <script>
    Polymer(
      {
        is:                  'cubex-shell',
        properties:          {
          _project:     {type: String},
          _projects:    {type: Array},
          _showConsole: {type: Boolean, value: false, computed: '_computeShowConsole(_projects,_project)'},
          _showSignup:  {type: Boolean, value: false, computed: '_computeShowSignup(_projects,_project)'}
        },
        _computeShowConsole: function (projects, project) {
          return project || (projects && projects.length > 0);
        },
        _computeShowSignup:  function (projects, project) {
          return (!project) && (projects && projects.length <= 0);
        }
      });
  </script>
</dom-module>

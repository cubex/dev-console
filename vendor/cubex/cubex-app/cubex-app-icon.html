<link rel="import" href="../../cube-icon/cube-icon.html">
<link rel="import" href="../../cube-pagelet/cube-pagelet-content.html">

<dom-module id="cubex-app-icon" attributes="icon">
  <template>
    <style>
      cube-icon,
      cube-icon * {
        background: var(--cubex-app-background-color);
        color: var(--cubex-app-icon-color);
        fill: var(--cubex-app-icon-color);
      }
    </style>
    <template is="dom-if" if="[[icon]]">
      <template is="dom-if" if="[[_isAppIcon]]">
        <cube-icon icon="[[icon]]"></cube-icon>
      </template>
      <template is="dom-if" if="[[!_isAppIcon]]">
        <cube-icon>
          <cube-pagelet-content html="[[icon]]"></cube-pagelet-content>
        </cube-icon>
      </template>
    </template>
  </template>

  <script>
    Polymer(
    {
      is: 'cubex-app-icon',
      properties:
      {
        icon: { type: String },
        _isAppIcon: { type: Boolean, computed: '_computeIsAppIcon(icon)' }
      },
      _computeIsAppIcon: function(icon)
      {
        return !(/\s/.test(icon));
      },
    })
  </script>
</dom-module>

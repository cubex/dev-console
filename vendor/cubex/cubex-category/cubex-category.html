<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../cube-behavior/cube-i18n-behavior.html">

<dom-module id="cubex-category" attributes="key short">
  <template strip-whitespace>
    <style>
      :host {
        display: inline;
        @apply --cubex-category-style;
      }

      :host([hidden]) {
        display: none;
      }
    </style>
    [[i18n(i18nKeys)]]
  </template>
  <script>
    Polymer(
      {
        is:         'cubex-category',
        properties: {
          hidden:    {type: Boolean, reflectToAttribute: true, computed: '_computeHidden(key)'},
          key:       {type: String, value: ''},
          short:     {type: Boolean, value: false},
          i18nKeys:  {type: Array, computed: '_makeKey(key,short)'},
          resources: {
            type:  Object,
            value: {
              "en": {
                "no_category": "Unsupported",
                "support":     "Support",
                "finance":     "Finance",
                "crm":         "CRM",
                "logistics":   "Logistics",
                "purchasing":  "Purchasing",
                "planning":    "Planning",
                "research":    "Research",
                "products":    "Products",
                "it":          "Information Technology",
                "short_it":    "IT",
                "comms":       "Communications",
                "short_comms": "Comms",
                "admin":       "Administration",
                "marketing":   "Marketing",
                "sales":       "Sales",
                "operations":  "Operations",
                "developer":   "Developer",
                "pr":          "Public Relations",
                "short_pr":    "PR",
                "hr":          "Human Resources",
                "short_hr":    "HR",
                "insights":    "Insights",
                "reporting":   "Reporting",
                "help":        "Help",
                "other":       "Other"
              },
              "fr": {
                "support": "Supporte"
              }
            }
          }
        },

        _computeHidden: function (key)
                        {
                          return !key;
                        },

        _makeKey: function (key, short)
                  {
                    return short ? ['short_' + key, key, "no_category"] : [key, "no_category"]
                  },

        getCategory: function (key, short)
                     {
                       return this.i18n(this._makeKey(key, short));
                     },

        behaviors: [
          Polymer.CubeI18nBehavior
        ]
      }
    );
  </script>
</dom-module>
